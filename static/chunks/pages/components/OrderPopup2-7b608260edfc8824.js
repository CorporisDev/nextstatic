(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{7526:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/OrderPopup2",function(){return t(8173)}])},8173:function(e,n,t){"use strict";t.r(n);var a=t(7568),r=t(7582),s=t(5893),i=t(7294),o=t(3253),l=t.n(o);l().setAppElement("#__next");var u=function(e){var n,t=e.isOpen,o=e.onRequestClose,u=(0,i.useState)(!1),c=u[0],d=u[1],p=(0,i.useState)(null),m=p[0],h=p[1],f=(0,i.useState)([]),x=f[0],j=f[1],v=(0,i.useState)(""),b=v[0],g=v[1],_=(0,i.useState)([]),y=_[0],C=_[1];(0,i.useEffect)(function(){fetch("/departamentos_y_ciudades.json").then(function(e){return e.json()}).then(function(e){return j(e.Colombia)}).catch(function(e){return console.error("Error al cargar los departamentos y ciudades:",e)})},[]);var N=(n=(0,a.Z)(function(e){var n;return(0,r.__generator)(this,function(t){return e.preventDefault(),d(!0),h(null),n={name:e.target.elements.name.value,apellido:e.target.elements.apellido.value,phone:e.target.elements.phone.value,email:e.target.elements.email.value,departamento:b,ciudad:e.target.elements.ciudad.value},fetch("http://195.35.36.80:3003/api/submit-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){if(d(!1),e.success)h({success:!0,message:"Felicitaciones te has inscrito en la capacitaci\xf3n exitosamente!"});else throw Error(e.message)}).catch(function(e){d(!1),h({success:!1,message:e.message||"Lo siento, hubo un error creando tu pedido, por favor int\xe9ntalo nuevamente."})}),[2]})}),function(e){return n.apply(this,arguments)}),S=function(e){var n=x.find(function(n){return n.departamento===e.target.value});g(e.target.value),C(n?n.ciudades:[])};return(0,s.jsxs)(l(),{isOpen:t,onRequestClose:o,contentLabel:"Realizar Pedido",className:"modal",overlayClassName:"overlay",children:[(0,s.jsx)("h2",{children:"Inscr\xedbase totalmente GRATIS"}),c?(0,s.jsx)("p",{children:"Cargando..."}):m?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:m.message}),(0,s.jsx)("p",{children:"Nos comunicaremos contigo en los siguientes dias para confirmar el dia de la capacitaci\xf3n"})]}):(0,s.jsxs)("form",{onSubmit:N,children:[(0,s.jsxs)("label",{children:["Nombre:",(0,s.jsx)("input",{type:"text",name:"name",required:!0})]}),(0,s.jsxs)("label",{children:["Apellido:",(0,s.jsx)("input",{type:"text",name:"apellido",required:!0})]}),(0,s.jsxs)("label",{children:["Celular:",(0,s.jsx)("input",{type:"text",name:"phone",required:!0})]}),(0,s.jsxs)("label",{children:["Correo electronico:",(0,s.jsx)("input",{type:"text",name:"email",required:!0})]}),(0,s.jsxs)("label",{children:["Departamento:",(0,s.jsxs)("select",{name:"departamento",value:b,onChange:S,children:[(0,s.jsx)("option",{value:"",children:"Seleccione un departamento"}),x.map(function(e,n){return(0,s.jsx)("option",{value:e.departamento,children:e.departamento},n)})]})]}),(0,s.jsxs)("label",{children:["Ciudad:",(0,s.jsxs)("select",{name:"ciudad",children:[(0,s.jsx)("option",{value:"",children:"Seleccione una ciudad"}),y.map(function(e,n){return(0,s.jsx)("option",{value:e,children:e},n)})]})]}),(0,s.jsx)("button",{className:"button-form",type:"submit",children:"\xa1Inscribirme!"})]})]})};n.default=u}},function(e){e.O(0,[787,774,888,179],function(){return e(e.s=7526)}),_N_E=e.O()}]);